(()=>{"use strict";globalThis.onmessage=function(e){const{data:o,fieldKeyListe:t}=e.data,n=[];if(console.log("Worker: Data received:",o),console.log("Worker: Field Key List received:",t),console.log("Worker: Initial data length:",o?o.length:0),!Array.isArray(o)||0===o.length)return void console.warn("Worker: No valid data array to process.");o.forEach(((e,r)=>{const a=parseFloat(String(e.latitude)),s=parseFloat(String(e.longitude));if("number"!==typeof a||"number"!==typeof s||isNaN(a)||isNaN(s))console.log("lat:",a,"| lg:",s),console.warn("Worker: ElementContainerWorker.ts a ignorer des elements car ils ont pas de champs de coordonee valides",e),console.warn("  Latitude :",a,"Longitude :",s);else{const o=[];for(let n in e){if("textIcon"==n)continue;const r="*"==t?{originaleName:n,renamed:n}:t.find((e=>e.originaleName===n));r&&o.push({label:r.renamed||r.originaleName,value:e[n]})}n.push({coor:[a,s],popUpData:o})}n.length>0&&((r+1)%20===0||r+1===o.length)&&(console.log(`Worker: envoie de paquet de ${n.length} points.`),globalThis.postMessage(structuredClone(n)),n.length=0)})),n.length>0&&(console.log(`Worker: a envoyer ses derniers paquet de ${n.length} points.`),globalThis.postMessage(structuredClone(n))),console.log("Worker: ElementContainerWorker.ts a finit tout ses traitements.")},console.log("Worker: ElementContainerWorker.ts est en cours de chargement.")})();
//# sourceMappingURL=729.73f7dcbd.chunk.js.map